#!/bin/bash

USER=$(whoami)

# --- Check root ---
if [ "$USER" != "root" ]; then
    dialog --title "Permission Denied" --msgbox "This program must be run as root.\nExiting." 7 50
    exit 1
fi

# --- Clear screen ---
clear

# --- Main dialog header ---
dialog --title "System Management" --msgbox "Reboot Server\n\nThis will REBOOT the system now." 8 60

# --- Confirm reboot ---
dialog --title "Confirm Reboot" --yesno "Do you want to proceed with rebooting the server?" 8 60
RESPONSE=$?

if [ $RESPONSE -eq 0 ]; then
    dialog --title "Rebooting" --msgbox "The system will reboot now..." 6 50
    sleep 1
    reboot
else
    dialog --title "Cancelled" --msgbox "Reboot operation cancelled." 6 50
    exit 0
fi
